$(document).ready(function(){var e,s=200,t="",l=0,r=void 0,a="";$("body").on("keyup",".searchBar",$.debounce(function(r){var a=r.keyCode;if(37!=a&&38!=a&&39!=a&&40!=a&&13!=a&&(l+=1,s=l%2!=0?0:200,$(".results").empty(),$(".results").removeClass("active"),t=$(".searchBar").val(),""!=t)){var c=t.replace(" ","+");$.ajax({url:"http://rack36.cs.drexel.edu/suggest/?q="+c,type:"GET",async:!1,success:function(s){e=JSON.parse(s),console.log("recieved json:"),console.log(e)},error:function(e){console.log("Error happened in AJAX Request!!")}});var d=e.length;$(".results").addClass("active");for(var o=0;d-1>o;o++){var i=e[o].title;i=e[o].title.toLowerCase();var u=t.toLowerCase();(i.indexOf(u)>=0||e[o].title.indexOf(u)>=0)&&$(".results").append("<li>"+e[o].title+"</li>")}}},s)),$("body").on("keydown",".searchBar",function(e){var s=e.keyCode;if(37==s||38==s||39==s||40==s){var t=$(".results li").length,l=$(".results li").index($(".selected"));40==s?0>l?($(".results li").eq(0).addClass("selected"),l=0,r=$(".results .selected")):($(".results li").eq(l).removeClass("selected"),$(".results li").eq((l+1)%t).addClass("selected"),l=(l+1)%t,r=$(".results .selected")):38==s&&(-1==l?($(".results li").eq(t-1).addClass("selected"),l=t-1,r=$(".results .selected")):($(".results li").eq(l).removeClass("selected"),1>l?($(".results li").eq(t-Math.abs(l-1)%t).addClass("selected"),l=t-Math.abs(l-1)%t):($(".results li").eq(l-1).addClass("selected"),l-=1),r=$(".results .selected")))}else if(13==s){a=$(".results .selected").text(),$(".searchBar").val(a),$(".results").removeClass("active"),$(".results").empty();var c=$.Event("search");c.searchString=a,$("body").trigger(c)}}),$("body").on("click",".results li",function(e){a=$(this).text(),$(".searchBar").val(a),$(".results").removeClass("active"),$(".results").empty();var s=$.Event("search");s.searchString=a,$("body").trigger(s)})});