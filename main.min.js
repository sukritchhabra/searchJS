$(document).ready(function(){var e,s=200,l="",t=0,n=void 0,o="";$(".searchBar").on("keyup",$.debounce(function(n){var o=n.keyCode;if(37!=o&&38!=o&&39!=o&&40!=o&&13!=o&&(t+=1,s=t%2!=0?0:200,$(".results").empty(),$(".results").removeClass("active"),console.log("\n\nemptied results"),l=$(".searchBar").val(),console.log("Search text: "+l),""!=l)){$.ajax({url:"http://rack36.cs.drexel.edu/suggest/?q="+l,type:"GET",async:!1,success:function(s){e=JSON.parse(s),console.log(e)}});var r=e.length;$(".results").addClass("active");for(var a=0;r-1>a;a++){var d=e[a].title;d=e[a].title.toLowerCase(),(d.indexOf(l)>=0||e[a].title.indexOf(l)>=0)&&$(".results").append("<li>"+e[a].title+"</li>")}}},s)),$(".searchBar").on("keydown",function(e){var s=e.keyCode;if(37==s||38==s||39==s||40==s){var l=$(".results li").length,t=$(".results li").index($(".selected"));40==s?0>t?(console.log("\n\nundefined"),$(".results li").eq(0).addClass("selected"),t=0,n=$(".results .selected")):(console.log("\n\nprevious selection index: "+t),$(".results li").eq(t).removeClass("selected"),$(".results li").eq((t+1)%l).addClass("selected"),t=(t+1)%l,console.log("new selection index: "+t),n=$(".results .selected")):38==s&&(-1==t?($(".results li").eq(l-1).addClass("selected"),t=l-1,n=$(".results .selected")):(console.log("\n\nprevious selection index: "+t),$(".results li").eq(t).removeClass("selected"),1>t?($(".results li").eq(l-Math.abs(t-1)%l).addClass("selected"),t=l-Math.abs(t-1)%l):($(".results li").eq(t-1).addClass("selected"),t-=1),console.log("new selection index: "+t),n=$(".results .selected")))}else 13==s&&(o=$(".results .selected").text(),$(".searchBar").val(o),$(".results").empty())})});